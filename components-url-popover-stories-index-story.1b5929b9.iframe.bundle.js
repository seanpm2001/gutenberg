"use strict";(globalThis.webpackChunkgutenberg=globalThis.webpackChunkgutenberg||[]).push([[3218],{"./packages/components/build-module/external-link/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var clsx__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/i18n/build-module/index.js"),_wordpress_element__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_3__.forwardRef)((function UnforwardedExternalLink(props,ref){const{href,children,className,rel="",...additionalProps}=props,optimizedRel=[...new Set([...rel.split(" "),"external","noreferrer","noopener"].filter(Boolean))].join(" "),classes=(0,clsx__WEBPACK_IMPORTED_MODULE_2__.Z)("components-external-link",className),isInternalAnchor=!!href?.startsWith("#");return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("a",{...additionalProps,className:classes,href,onClick:event=>{isInternalAnchor&&event.preventDefault(),props.onClick&&props.onClick(event)},target:"_blank",rel:optimizedRel,ref,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("span",{className:"components-external-link__contents",children}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("span",{className:"components-external-link__icon","aria-label":(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__.__)("(opens in a new tab)"),children:"â†—"})]})}))},"./packages/components/build-module/flex/flex-block/component.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>flex_block_component});var context_connect=__webpack_require__("./packages/components/build-module/context/context-connect.js"),component=__webpack_require__("./packages/components/build-module/view/component.js"),use_context_system=__webpack_require__("./packages/components/build-module/context/use-context-system.js"),hook=__webpack_require__("./packages/components/build-module/flex/flex-item/hook.js");var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const flex_block_component=(0,context_connect.Iq)((function UnconnectedFlexBlock(props,forwardedRef){const flexBlockProps=function useFlexBlock(props){const otherProps=(0,use_context_system.y)(props,"FlexBlock");return(0,hook.i)({isBlock:!0,...otherProps})}(props);return(0,jsx_runtime.jsx)(component.Z,{...flexBlockProps,ref:forwardedRef})}),"FlexBlock")},"./packages/components/build-module/h-stack/component.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _context__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/components/build-module/context/context-connect.js"),_view__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/components/build-module/view/component.js"),_hook__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/components/build-module/h-stack/hook.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_context__WEBPACK_IMPORTED_MODULE_3__.Iq)((function UnconnectedHStack(props,forwardedRef){const hStackProps=(0,_hook__WEBPACK_IMPORTED_MODULE_1__.R)(props);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_view__WEBPACK_IMPORTED_MODULE_2__.Z,{...hStackProps,ref:forwardedRef})}),"HStack")},"./packages/components/build-module/h-stack/hook.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{R:()=>useHStack});var use_context_system=__webpack_require__("./packages/components/build-module/context/use-context-system.js"),context_connect=__webpack_require__("./packages/components/build-module/context/context-connect.js"),component=__webpack_require__("./packages/components/build-module/flex/flex-item/component.js"),hook=__webpack_require__("./packages/components/build-module/flex/flex/hook.js"),values=__webpack_require__("./packages/components/build-module/utils/values.js");const H_ALIGNMENTS={bottom:{align:"flex-end",justify:"center"},bottomLeft:{align:"flex-end",justify:"flex-start"},bottomRight:{align:"flex-end",justify:"flex-end"},center:{align:"center",justify:"center"},edge:{align:"center",justify:"space-between"},left:{align:"center",justify:"flex-start"},right:{align:"center",justify:"flex-end"},stretch:{align:"stretch"},top:{align:"flex-start",justify:"center"},topLeft:{align:"flex-start",justify:"flex-start"},topRight:{align:"flex-start",justify:"flex-end"}},V_ALIGNMENTS={bottom:{justify:"flex-end",align:"center"},bottomLeft:{justify:"flex-end",align:"flex-start"},bottomRight:{justify:"flex-end",align:"flex-end"},center:{justify:"center",align:"center"},edge:{justify:"space-between",align:"center"},left:{justify:"center",align:"flex-start"},right:{justify:"center",align:"flex-end"},stretch:{align:"stretch"},top:{justify:"flex-start",align:"center"},topLeft:{justify:"flex-start",align:"flex-start"},topRight:{justify:"flex-start",align:"flex-end"}};var get_valid_children=__webpack_require__("./packages/components/build-module/utils/get-valid-children.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function useHStack(props){const{alignment="edge",children,direction,spacing=2,...otherProps}=(0,use_context_system.y)(props,"HStack"),align=function getAlignmentProps(alignment,direction="row"){if(!(0,values.Jf)(alignment))return{};const props="column"===direction?V_ALIGNMENTS:H_ALIGNMENTS;return alignment in props?props[alignment]:{align:alignment}}(alignment,direction),propsForFlex={children:(0,get_valid_children.W)(children).map(((child,index)=>{if((0,context_connect.H)(child,["Spacer"])){const childElement=child,_key=childElement.key||`hstack-${index}`;return(0,jsx_runtime.jsx)(component.Z,{isBlock:!0,...childElement.props},_key)}return child})),direction,justify:"center",...align,...otherProps,gap:spacing},{isColumn,...flexProps}=(0,hook.k)(propsForFlex);return flexProps}},"./packages/components/build-module/higher-order/with-spoken-messages/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_compose__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/compose/build-module/utils/create-higher-order-component/index.js"),_wordpress_compose__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/compose/build-module/hooks/use-debounce/index.js"),_wordpress_a11y__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/a11y/build-module/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_2__.o)((Component=>props=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Component,{...props,speak:_wordpress_a11y__WEBPACK_IMPORTED_MODULE_0__.D,debouncedSpeak:(0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_3__.Z)(_wordpress_a11y__WEBPACK_IMPORTED_MODULE_0__.D,500)})),"withSpokenMessages")},"./packages/components/build-module/popover/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{ZP:()=>popover});var clsx=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),floating_ui_core=__webpack_require__("./node_modules/@floating-ui/core/dist/floating-ui.core.mjs"),floating_ui_dom=__webpack_require__("./node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs"),floating_ui_react_dom_esm=__webpack_require__("./packages/components/node_modules/@floating-ui/react-dom/dist/floating-ui.react-dom.esm.js"),motion=__webpack_require__("./node_modules/framer-motion/dist/es/render/dom/motion.mjs"),react=__webpack_require__("./node_modules/react/index.js"),react_dom=__webpack_require__("./node_modules/react-dom/index.js"),use_viewport_match=__webpack_require__("./packages/compose/build-module/hooks/use-viewport-match/index.js"),use_dialog=__webpack_require__("./packages/compose/build-module/hooks/use-dialog/index.js"),use_merge_refs=__webpack_require__("./packages/compose/build-module/hooks/use-merge-refs/index.js"),use_reduced_motion=__webpack_require__("./packages/compose/build-module/hooks/use-reduced-motion/index.js"),library_close=__webpack_require__("./packages/icons/build-module/library/close.js"),build_module=__webpack_require__("./packages/deprecated/build-module/index.js"),svg=__webpack_require__("./packages/primitives/build-module/svg/index.js"),build_module_button=__webpack_require__("./packages/components/build-module/button/index.js");let previousScrollTop=0;function setLocked(locked){const scrollingElement=document.scrollingElement||document.body;locked&&(previousScrollTop=scrollingElement.scrollTop);const methodName=locked?"add":"remove";scrollingElement.classList[methodName]("lockscroll"),document.documentElement.classList[methodName]("lockscroll"),locked||(scrollingElement.scrollTop=previousScrollTop)}let lockCounter=0;const scroll_lock=function ScrollLock(){return(0,react.useEffect)((()=>(0===lockCounter&&setLocked(!0),++lockCounter,()=>{1===lockCounter&&setLocked(!1),--lockCounter})),[]),null};var use_slot=__webpack_require__("./packages/components/build-module/slot-fill/bubbles-virtually/use-slot.js"),slot_fill=__webpack_require__("./packages/components/build-module/slot-fill/index.js"),utils=__webpack_require__("./packages/components/build-module/popover/utils.js"),use_context_system=__webpack_require__("./packages/components/build-module/context/use-context-system.js"),context_connect=__webpack_require__("./packages/components/build-module/context/context-connect.js");var style_provider=__webpack_require__("./packages/components/build-module/style-provider/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const SLOT_NAME="Popover",ArrowTriangle=()=>(0,jsx_runtime.jsxs)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",className:"components-popover__triangle",role:"presentation",children:[(0,jsx_runtime.jsx)(svg.y$,{className:"components-popover__triangle-bg",d:"M 0 0 L 50 50 L 100 0"}),(0,jsx_runtime.jsx)(svg.y$,{className:"components-popover__triangle-border",d:"M 0 0 L 50 50 L 100 0",vectorEffect:"non-scaling-stroke"})]}),slotNameContext=(0,react.createContext)(void 0),Popover=(0,context_connect.Iq)(((props,forwardedRef)=>{const{animate=!0,headerTitle,constrainTabbing,onClose,children,className,noArrow=!0,position,placement:placementProp="bottom-start",offset:offsetProp=0,focusOnMount="firstElement",anchor,expandOnMobile,onFocusOutside,__unstableSlotName=SLOT_NAME,flip=!0,resize=!0,shift=!1,inline=!1,variant,__unstableForcePosition,anchorRef,anchorRect,getAnchorRect,isAlternate,...contentProps}=(0,use_context_system.y)(props,"Popover");let computedFlipProp=flip,computedResizeProp=resize;void 0!==__unstableForcePosition&&((0,build_module.Z)("`__unstableForcePosition` prop in wp.components.Popover",{since:"6.1",version:"6.3",alternative:"`flip={ false }` and  `resize={ false }`"}),computedFlipProp=!__unstableForcePosition,computedResizeProp=!__unstableForcePosition),void 0!==anchorRef&&(0,build_module.Z)("`anchorRef` prop in wp.components.Popover",{since:"6.1",alternative:"`anchor` prop"}),void 0!==anchorRect&&(0,build_module.Z)("`anchorRect` prop in wp.components.Popover",{since:"6.1",alternative:"`anchor` prop"}),void 0!==getAnchorRect&&(0,build_module.Z)("`getAnchorRect` prop in wp.components.Popover",{since:"6.1",alternative:"`anchor` prop"});const computedVariant=isAlternate?"toolbar":variant;void 0!==isAlternate&&(0,build_module.Z)("`isAlternate` prop in wp.components.Popover",{since:"6.2",alternative:"`variant` prop with the `'toolbar'` value"});const arrowRef=(0,react.useRef)(null),[fallbackReferenceElement,setFallbackReferenceElement]=(0,react.useState)(null),anchorRefFallback=(0,react.useCallback)((node=>{setFallbackReferenceElement(node)}),[]),isMobileViewport=(0,use_viewport_match.Z)("medium","<"),isExpanded=expandOnMobile&&isMobileViewport,hasArrow=!isExpanded&&!noArrow,normalizedPlacementFromProps=position?(0,utils.KF)(position):placementProp,middleware=[..."overlay"===placementProp?[{name:"overlay",fn:({rects})=>rects.reference},(0,floating_ui_dom.dp)({apply({rects,elements}){var _elements$floating;const{firstElementChild}=null!==(_elements$floating=elements.floating)&&void 0!==_elements$floating?_elements$floating:{};firstElementChild instanceof HTMLElement&&Object.assign(firstElementChild.style,{width:`${rects.reference.width}px`,height:`${rects.reference.height}px`})}})]:[],(0,floating_ui_core.cv)(offsetProp),computedFlipProp&&(0,floating_ui_dom.RR)(),computedResizeProp&&(0,floating_ui_dom.dp)({apply(sizeProps){var _refs$floating$curren;const{firstElementChild}=null!==(_refs$floating$curren=refs.floating.current)&&void 0!==_refs$floating$curren?_refs$floating$curren:{};firstElementChild instanceof HTMLElement&&Object.assign(firstElementChild.style,{maxHeight:`${sizeProps.availableHeight}px`,overflow:"auto"})}}),shift&&(0,floating_ui_dom.uY)({crossAxis:!0,limiter:(0,floating_ui_dom.dr)(),padding:1}),(0,floating_ui_react_dom_esm.x7)({element:arrowRef})],slotName=(0,react.useContext)(slotNameContext)||__unstableSlotName,slot=(0,use_slot.Z)(slotName);let onDialogClose;(onClose||onFocusOutside)&&(onDialogClose=(type,event)=>{"focus-outside"===type&&onFocusOutside?onFocusOutside(event):onClose&&onClose()});const[dialogRef,dialogProps]=(0,use_dialog.Z)({constrainTabbing,focusOnMount,__unstableOnClose:onDialogClose,onClose:onDialogClose}),{x,y,refs,strategy,update,placement:computedPlacement,middlewareData:{arrow:arrowData}}=(0,floating_ui_react_dom_esm.YF)({placement:"overlay"===normalizedPlacementFromProps?void 0:normalizedPlacementFromProps,middleware,whileElementsMounted:(referenceParam,floatingParam,updateParam)=>(0,floating_ui_dom.Me)(referenceParam,floatingParam,updateParam,{layoutShift:!1,animationFrame:!0})}),arrowCallbackRef=(0,react.useCallback)((node=>{arrowRef.current=node,update()}),[update]),anchorRefTop=anchorRef?.top,anchorRefBottom=anchorRef?.bottom,anchorRefStartContainer=anchorRef?.startContainer,anchorRefCurrent=anchorRef?.current;(0,react.useLayoutEffect)((()=>{const resultingReferenceElement=(0,utils.CK)({anchor,anchorRef,anchorRect,getAnchorRect,fallbackReferenceElement});refs.setReference(resultingReferenceElement)}),[anchor,anchorRef,anchorRefTop,anchorRefBottom,anchorRefStartContainer,anchorRefCurrent,anchorRect,getAnchorRect,fallbackReferenceElement,refs]);const mergedFloatingRef=(0,use_merge_refs.Z)([refs.setFloating,dialogRef,forwardedRef]),style=isExpanded?void 0:{position:strategy,top:0,left:0,x:(0,utils.sw)(x),y:(0,utils.sw)(y)},shouldReduceMotion=(0,use_reduced_motion.Z)(),shouldAnimate=animate&&!isExpanded&&!shouldReduceMotion,[animationFinished,setAnimationFinished]=(0,react.useState)(!1),{style:motionInlineStyles,...otherMotionProps}=(0,react.useMemo)((()=>(0,utils.d9)(computedPlacement)),[computedPlacement]),animationProps=shouldAnimate?{style:{...motionInlineStyles,...style},onAnimationComplete:()=>setAnimationFinished(!0),...otherMotionProps}:{animate:!1,style},isPositioned=(!shouldAnimate||animationFinished)&&null!==x&&null!==y;let content=(0,jsx_runtime.jsxs)(motion.E.div,{className:(0,clsx.Z)(className,{"is-expanded":isExpanded,"is-positioned":isPositioned,[`is-${"toolbar"===computedVariant?"alternate":computedVariant}`]:computedVariant}),...animationProps,...contentProps,ref:mergedFloatingRef,...dialogProps,tabIndex:-1,children:[isExpanded&&(0,jsx_runtime.jsx)(scroll_lock,{}),isExpanded&&(0,jsx_runtime.jsxs)("div",{className:"components-popover__header",children:[(0,jsx_runtime.jsx)("span",{className:"components-popover__header-title",children:headerTitle}),(0,jsx_runtime.jsx)(build_module_button.ZP,{className:"components-popover__close",icon:library_close.Z,onClick:onClose})]}),(0,jsx_runtime.jsx)("div",{className:"components-popover__content",children}),hasArrow&&(0,jsx_runtime.jsx)("div",{ref:arrowCallbackRef,className:["components-popover__arrow",`is-${computedPlacement.split("-")[0]}`].join(" "),style:{left:void 0!==arrowData?.x&&Number.isFinite(arrowData.x)?`${arrowData.x}px`:"",top:void 0!==arrowData?.y&&Number.isFinite(arrowData.y)?`${arrowData.y}px`:""},children:(0,jsx_runtime.jsx)(ArrowTriangle,{})})]});const shouldRenderWithinSlot=slot.ref&&!inline,hasAnchor=anchorRef||anchorRect||anchor;return shouldRenderWithinSlot?content=(0,jsx_runtime.jsx)(slot_fill.de,{name:slotName,children:content}):inline||(content=(0,react_dom.createPortal)((0,jsx_runtime.jsx)(style_provider.V,{document,children:content}),(()=>{let container=document.body.querySelector(".components-popover__fallback-container");return container||(container=document.createElement("div"),container.className="components-popover__fallback-container",document.body.append(container)),container})())),hasAnchor?content:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("span",{ref:anchorRefFallback}),content]})}),"Popover");Popover.Slot=(0,react.forwardRef)((function PopoverSlot({name=SLOT_NAME},ref){return(0,jsx_runtime.jsx)(slot_fill.g7,{bubblesVirtually:!0,name,className:"popover-slot",ref})})),Popover.__unstableSlotNameProvider=slotNameContext.Provider;const popover=Popover},"./packages/components/build-module/slot-fill/bubbles-virtually/slot-fill-context.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),_wordpress_warning__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/warning/build-module/index.js"),_wordpress_compose__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/compose/build-module/utils/observable-map/index.js");const initialContextValue={slots:(0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_0__.s)(),fills:(0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_0__.s)(),registerSlot:()=>{!0===globalThis.SCRIPT_DEBUG&&!0===globalThis.SCRIPT_DEBUG&&(0,_wordpress_warning__WEBPACK_IMPORTED_MODULE_1__.Z)("Components must be wrapped within `SlotFillProvider`. See https://developer.wordpress.org/block-editor/components/slot-fill/")},updateSlot:()=>{},unregisterSlot:()=>{},registerFill:()=>{},unregisterFill:()=>{},isDefault:!0},__WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.createContext)(initialContextValue)},"./packages/components/build-module/slot-fill/bubbles-virtually/use-slot.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>useSlot});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_compose__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/compose/build-module/hooks/use-observable-value/index.js"),_slot_fill_context__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/components/build-module/slot-fill/bubbles-virtually/slot-fill-context.js");function useSlot(name){const registry=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useContext)(_slot_fill_context__WEBPACK_IMPORTED_MODULE_1__.Z);return{...(0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_2__.Z)(registry.slots,name),...(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>({updateSlot:fillProps=>registry.updateSlot(name,fillProps),unregisterSlot:ref=>registry.unregisterSlot(name,ref),registerFill:ref=>registry.registerFill(name,ref),unregisterFill:ref=>registry.unregisterFill(name,ref)})),[name,registry])}}},"./packages/components/build-module/slot-fill/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{de:()=>slot_fill_Fill,zt:()=>Provider,g7:()=>slot_fill_Slot,Es:()=>createPrivateSlotFill,up:()=>createSlotFill});var react=__webpack_require__("./node_modules/react/index.js");const initialValue={registerSlot:()=>{},unregisterSlot:()=>{},registerFill:()=>{},unregisterFill:()=>{},getSlot:()=>{},getFills:()=>[],subscribe:()=>()=>{}},context=(0,react.createContext)(initialValue),use_slot=name=>{const{getSlot,subscribe}=(0,react.useContext)(context);return(0,react.useSyncExternalStore)(subscribe,(()=>getSlot(name)),(()=>getSlot(name)))};function Fill({name,children}){const{registerFill,unregisterFill}=(0,react.useContext)(context),slot=use_slot(name),ref=(0,react.useRef)({name,children});return(0,react.useLayoutEffect)((()=>{const refValue=ref.current;return registerFill(name,refValue),()=>unregisterFill(name,refValue)}),[]),(0,react.useLayoutEffect)((()=>{ref.current.children=children,slot&&slot.forceUpdate()}),[children]),(0,react.useLayoutEffect)((()=>{name!==ref.current.name&&(unregisterFill(ref.current.name,ref.current),ref.current.name=name,registerFill(name,ref.current))}),[name]),null}var utils=__webpack_require__("./packages/element/build-module/utils.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function isFunction(maybeFunc){return"function"==typeof maybeFunc}class SlotComponent extends react.Component{constructor(props){super(props),this.isUnmounted=!1}componentDidMount(){const{registerSlot}=this.props;this.isUnmounted=!1,registerSlot(this.props.name,this)}componentWillUnmount(){const{unregisterSlot}=this.props;this.isUnmounted=!0,unregisterSlot(this.props.name,this)}componentDidUpdate(prevProps){const{name,unregisterSlot,registerSlot}=this.props;prevProps.name!==name&&(unregisterSlot(prevProps.name,this),registerSlot(name,this))}forceUpdate(){this.isUnmounted||super.forceUpdate()}render(){var _getFills;const{children,name,fillProps={},getFills}=this.props,fills=(null!==(_getFills=getFills(name,this))&&void 0!==_getFills?_getFills:[]).map((fill=>{const fillChildren=isFunction(fill.children)?fill.children(fillProps):fill.children;return react.Children.map(fillChildren,((child,childIndex)=>{if(!child||"string"==typeof child)return child;let childKey=childIndex;return"object"==typeof child&&"key"in child&&child?.key&&(childKey=child.key),(0,react.cloneElement)(child,{key:childKey})}))})).filter((element=>!(0,utils.V)(element)));return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:isFunction(children)?children(fills):fills})}}SlotComponent.displayName="SlotComponent";const slot=props=>(0,jsx_runtime.jsx)(context.Consumer,{children:({registerSlot,unregisterSlot,getFills})=>(0,jsx_runtime.jsx)(SlotComponent,{...props,registerSlot,unregisterSlot,getFills})});var react_dom=__webpack_require__("./node_modules/react-dom/index.js"),bubbles_virtually_use_slot=__webpack_require__("./packages/components/build-module/slot-fill/bubbles-virtually/use-slot.js"),style_provider=__webpack_require__("./packages/components/build-module/style-provider/index.js");function fill_Fill(props){var _slot$fillProps;const{name,children}=props,{registerFill,unregisterFill,...slot}=(0,bubbles_virtually_use_slot.Z)(name),rerender=function useForceUpdate(){const[,setState]=(0,react.useState)({}),mounted=(0,react.useRef)(!0);return(0,react.useEffect)((()=>(mounted.current=!0,()=>{mounted.current=!1})),[]),()=>{mounted.current&&setState({})}}(),ref=(0,react.useRef)({rerender});if((0,react.useEffect)((()=>(registerFill(ref),()=>{unregisterFill(ref)})),[registerFill,unregisterFill]),!slot.ref||!slot.ref.current)return null;const wrappedChildren=(0,jsx_runtime.jsx)(style_provider.Z,{document:slot.ref.current.ownerDocument,children:"function"==typeof children?children(null!==(_slot$fillProps=slot.fillProps)&&void 0!==_slot$fillProps?_slot$fillProps:{}):children});return(0,react_dom.createPortal)(wrappedChildren,slot.ref.current)}var use_merge_refs=__webpack_require__("./packages/compose/build-module/hooks/use-merge-refs/index.js"),component=__webpack_require__("./packages/components/build-module/view/component.js"),slot_fill_context=__webpack_require__("./packages/components/build-module/slot-fill/bubbles-virtually/slot-fill-context.js");const bubbles_virtually_slot=(0,react.forwardRef)((function slot_Slot(props,forwardedRef){const{name,fillProps={},as,children,...restProps}=props,{registerSlot,unregisterSlot,...registry}=(0,react.useContext)(slot_fill_context.Z),ref=(0,react.useRef)(null);return(0,react.useLayoutEffect)((()=>(registerSlot(name,ref,fillProps),()=>{unregisterSlot(name,ref)})),[registerSlot,unregisterSlot,name]),(0,react.useLayoutEffect)((()=>{registry.updateSlot(name,fillProps)})),(0,jsx_runtime.jsx)(component.Z,{as,ref:(0,use_merge_refs.Z)([forwardedRef,ref]),...restProps})}));var build_module=__webpack_require__("./packages/is-shallow-equal/build-module/index.js"),observable_map=__webpack_require__("./packages/compose/build-module/utils/observable-map/index.js");function createSlotRegistry(){const slots=(0,observable_map.s)(),fills=(0,observable_map.s)();return{slots,fills,registerSlot:(name,ref,fillProps)=>{const slot=slots.get(name);slots.set(name,{...slot,ref:ref||slot?.ref,fillProps:fillProps||slot?.fillProps||{}})},updateSlot:(name,fillProps)=>{const slot=slots.get(name);if(!slot)return;if((0,build_module.ZP)(slot.fillProps,fillProps))return;slot.fillProps=fillProps;const slotFills=fills.get(name);slotFills&&slotFills.forEach((fill=>fill.current.rerender()))},unregisterSlot:(name,ref)=>{slots.get(name)?.ref===ref&&slots.delete(name)},registerFill:(name,ref)=>{fills.set(name,[...fills.get(name)||[],ref])},unregisterFill:(name,ref)=>{const fillsForName=fills.get(name);fillsForName&&fills.set(name,fillsForName.filter((fillRef=>fillRef!==ref)))}}}function SlotFillProvider({children}){const[registry]=(0,react.useState)(createSlotRegistry);return(0,jsx_runtime.jsx)(slot_fill_context.Z.Provider,{value:registry,children})}function provider_createSlotRegistry(){const slots={},fills={};let listeners=[];function getSlot(name){return slots[name]}function forceUpdateSlot(name){const slot=getSlot(name);slot&&slot.forceUpdate()}function triggerListeners(){listeners.forEach((listener=>listener()))}return{registerSlot:function registerSlot(name,slot){const previousSlot=slots[name];slots[name]=slot,triggerListeners(),forceUpdateSlot(name),previousSlot&&previousSlot.forceUpdate()},unregisterSlot:function unregisterSlot(name,instance){slots[name]===instance&&(delete slots[name],triggerListeners())},registerFill:function registerFill(name,instance){fills[name]=[...fills[name]||[],instance],forceUpdateSlot(name)},unregisterFill:function unregisterFill(name,instance){var _fills$name$filter;fills[name]=null!==(_fills$name$filter=fills[name]?.filter((fill=>fill!==instance)))&&void 0!==_fills$name$filter?_fills$name$filter:[],forceUpdateSlot(name)},getSlot,getFills:function getFills(name,slotInstance){return slots[name]!==slotInstance?[]:fills[name]},subscribe:function subscribe(listener){return listeners.push(listener),()=>{listeners=listeners.filter((l=>l!==listener))}}}}const provider=function provider_SlotFillProvider({children}){const[contextValue]=(0,react.useState)(provider_createSlotRegistry);return(0,jsx_runtime.jsx)(context.Provider,{value:contextValue,children})};function slot_fill_Fill(props){return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(Fill,{...props}),(0,jsx_runtime.jsx)(fill_Fill,{...props})]})}const slot_fill_Slot=(0,react.forwardRef)((function UnforwardedSlot(props,ref){const{bubblesVirtually,...restProps}=props;return bubblesVirtually?(0,jsx_runtime.jsx)(bubbles_virtually_slot,{...restProps,ref}):(0,jsx_runtime.jsx)(slot,{...restProps})}));function Provider({children,passthrough=!1}){return!(0,react.useContext)(slot_fill_context.Z).isDefault&&passthrough?(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children}):(0,jsx_runtime.jsx)(provider,{children:(0,jsx_runtime.jsx)(SlotFillProvider,{children})})}function createSlotFill(key){const baseName="symbol"==typeof key?key.description:key,FillComponent=props=>(0,jsx_runtime.jsx)(slot_fill_Fill,{name:key,...props});FillComponent.displayName=`${baseName}Fill`;const SlotComponent=props=>(0,jsx_runtime.jsx)(slot_fill_Slot,{name:key,...props});return SlotComponent.displayName=`${baseName}Slot`,SlotComponent.__unstableName=key,{Fill:FillComponent,Slot:SlotComponent}}const createPrivateSlotFill=name=>{const privateKey=Symbol(name);return{privateKey,...createSlotFill(privateKey)}}},"./packages/components/build-module/style-provider/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{V:()=>StyleProvider,Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _emotion_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@emotion/react/dist/emotion-element-699e6908.browser.esm.js"),_emotion_cache__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@emotion/cache/dist/emotion-cache.browser.esm.js"),uuid__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/components/node_modules/uuid/dist/esm-browser/v4.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const uuidCache=new Set,containerCacheMap=new WeakMap,memoizedCreateCacheWithContainer=container=>{if(containerCacheMap.has(container))return containerCacheMap.get(container);let key=uuid__WEBPACK_IMPORTED_MODULE_2__.Z().replace(/[0-9]/g,"");for(;uuidCache.has(key);)key=uuid__WEBPACK_IMPORTED_MODULE_2__.Z().replace(/[0-9]/g,"");uuidCache.add(key);const cache=(0,_emotion_cache__WEBPACK_IMPORTED_MODULE_0__.Z)({container,key});return containerCacheMap.set(container,cache),cache};function StyleProvider(props){const{children,document}=props;if(!document)return null;const cache=memoizedCreateCacheWithContainer(document.head);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_emotion_react__WEBPACK_IMPORTED_MODULE_3__.C,{value:cache,children})}const __WEBPACK_DEFAULT_EXPORT__=StyleProvider},"./packages/components/build-module/toggle-control/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>toggle_control});var emotion_react_browser_esm=__webpack_require__("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),clsx=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),react=__webpack_require__("./node_modules/react/index.js"),use_instance_id=__webpack_require__("./packages/compose/build-module/hooks/use-instance-id/index.js"),component=__webpack_require__("./packages/components/build-module/flex/flex-block/component.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const noop=()=>{};const form_toggle=(0,react.forwardRef)((function UnforwardedFormToggle(props,ref){const{className,checked,id,disabled,onChange=noop,...additionalProps}=props,wrapperClasses=(0,clsx.Z)("components-form-toggle",className,{"is-checked":checked,"is-disabled":disabled});return(0,jsx_runtime.jsxs)("span",{className:wrapperClasses,children:[(0,jsx_runtime.jsx)("input",{className:"components-form-toggle__input",id,type:"checkbox",checked,onChange,disabled,...additionalProps,ref}),(0,jsx_runtime.jsx)("span",{className:"components-form-toggle__track"}),(0,jsx_runtime.jsx)("span",{className:"components-form-toggle__thumb"})]})}));var base_control=__webpack_require__("./packages/components/build-module/base-control/index.js"),h_stack_component=__webpack_require__("./packages/components/build-module/h-stack/component.js"),use_cx=__webpack_require__("./packages/components/build-module/utils/hooks/use-cx.js"),space=__webpack_require__("./packages/components/build-module/utils/space.js");const ToggleControl=(0,react.forwardRef)((function UnforwardedToggleControl({__nextHasNoMarginBottom,label,checked,help,className,onChange,disabled},ref){const id=`inspector-toggle-control-${(0,use_instance_id.Z)(ToggleControl)}`,classes=(0,use_cx.I)()("components-toggle-control",className,!__nextHasNoMarginBottom&&(0,emotion_react_browser_esm.iv)({marginBottom:(0,space.D)(3)},"","","",""));let describedBy,helpLabel;return help&&("function"==typeof help?void 0!==checked&&(helpLabel=help(checked)):helpLabel=help,helpLabel&&(describedBy=id+"__help")),(0,jsx_runtime.jsx)(base_control.ZP,{id,help:helpLabel&&(0,jsx_runtime.jsx)("span",{className:"components-toggle-control__help",children:helpLabel}),className:classes,__nextHasNoMarginBottom:!0,children:(0,jsx_runtime.jsxs)(h_stack_component.Z,{justify:"flex-start",spacing:2,children:[(0,jsx_runtime.jsx)(form_toggle,{id,checked,onChange:function onChangeToggle(event){onChange(event.target.checked)},"aria-describedby":describedBy,disabled,ref}),(0,jsx_runtime.jsx)(component.Z,{as:"label",htmlFor:id,className:(0,clsx.Z)("components-toggle-control__label",{"is-disabled":disabled}),children:label})]})})})),toggle_control=ToggleControl},"./packages/components/build-module/utils/get-valid-children.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{W:()=>getValidChildren});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function getValidChildren(children){return"string"==typeof children?[children]:_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.Children.toArray(children).filter((child=>(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.isValidElement)(child)))}},"./packages/components/build-module/utils/strings.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{GL:()=>kebabCase,eK:()=>normalizeTextString,hr:()=>escapeRegExp});var remove_accents__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/remove-accents/index.js"),remove_accents__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(remove_accents__WEBPACK_IMPORTED_MODULE_0__),change_case__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/param-case/dist.es2015/index.js");const ALL_UNICODE_DASH_CHARACTERS=new RegExp(/[\u007e\u00ad\u2053\u207b\u208b\u2212\p{Pd}]/gu),normalizeTextString=value=>remove_accents__WEBPACK_IMPORTED_MODULE_0___default()(value).toLocaleLowerCase().replace(ALL_UNICODE_DASH_CHARACTERS,"-");function kebabCase(str){var _str$toString;let input=null!==(_str$toString=str?.toString?.())&&void 0!==_str$toString?_str$toString:"";return input=input.replace(/['\u2019]/,""),(0,change_case__WEBPACK_IMPORTED_MODULE_1__.o)(input,{splitRegexp:[/(?!(?:1ST|2ND|3RD|[4-9]TH)(?![a-z]))([a-z0-9])([A-Z])/g,/(?!(?:1st|2nd|3rd|[4-9]th)(?![a-z]))([0-9])([a-z])/g,/([A-Za-z])([0-9])/g,/([A-Z])([A-Z][a-z])/g]})}function escapeRegExp(string){return string.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&")}},"./packages/compose/build-module/higher-order/with-instance-id/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _utils_create_higher_order_component__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/compose/build-module/utils/create-higher-order-component/index.js"),_hooks_use_instance_id__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/compose/build-module/hooks/use-instance-id/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_utils_create_higher_order_component__WEBPACK_IMPORTED_MODULE_1__.o)((WrappedComponent=>props=>{const instanceId=(0,_hooks_use_instance_id__WEBPACK_IMPORTED_MODULE_2__.Z)(WrappedComponent);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(WrappedComponent,{...props,instanceId})}),"instanceId")},"./packages/compose/build-module/higher-order/with-safe-timeout/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),_utils_create_higher_order_component__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/compose/build-module/utils/create-higher-order-component/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_utils_create_higher_order_component__WEBPACK_IMPORTED_MODULE_1__.o)((OriginalComponent=>class WrappedComponent extends _wordpress_element__WEBPACK_IMPORTED_MODULE_2__.Component{constructor(props){super(props),this.timeouts=[],this.setTimeout=this.setTimeout.bind(this),this.clearTimeout=this.clearTimeout.bind(this)}componentWillUnmount(){this.timeouts.forEach(clearTimeout)}setTimeout(fn,delay){const id=setTimeout((()=>{fn(),this.clearTimeout(id)}),delay);return this.timeouts.push(id),id}clearTimeout(id){clearTimeout(id),this.timeouts=this.timeouts.filter((timeoutId=>timeoutId!==id))}render(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(OriginalComponent,{...this.props,setTimeout:this.setTimeout,clearTimeout:this.clearTimeout})}}),"withSafeTimeout")},"./packages/compose/build-module/utils/create-higher-order-component/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{o:()=>createHigherOrderComponent});var change_case__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/pascal-case/dist.es2015/index.js");function createHigherOrderComponent(mapComponent,modifierName){return Inner=>{const Outer=mapComponent(Inner);return Outer.displayName=hocName(modifierName,Inner),Outer}}const hocName=(name,Inner)=>{const inner=Inner.displayName||Inner.name||"Component";return`${(0,change_case__WEBPACK_IMPORTED_MODULE_0__.Ho)(null!=name?name:"")}(${inner})`}},"./packages/data/build-module/components/with-select/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>with_select});var create_higher_order_component=__webpack_require__("./packages/compose/build-module/utils/create-higher-order-component/index.js"),build_module=__webpack_require__("./packages/is-shallow-equal/build-module/index.js"),react=__webpack_require__("./node_modules/react/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const higher_order_pure=(0,create_higher_order_component.o)((function(WrappedComponent){return WrappedComponent.prototype instanceof react.Component?class extends WrappedComponent{shouldComponentUpdate(nextProps,nextState){return!(0,build_module.ZP)(nextProps,this.props)||!(0,build_module.ZP)(nextState,this.state)}}:class extends react.Component{shouldComponentUpdate(nextProps){return!(0,build_module.ZP)(nextProps,this.props)}render(){return(0,jsx_runtime.jsx)(WrappedComponent,{...this.props})}}}),"pure");var use_select=__webpack_require__("./packages/data/build-module/components/use-select/index.js");const with_select=mapSelectToProps=>(0,create_higher_order_component.o)((WrappedComponent=>higher_order_pure((ownProps=>{const mergeProps=(0,use_select.Z)(((select,registry)=>mapSelectToProps(select,ownProps,registry)));return(0,jsx_runtime.jsx)(WrappedComponent,{...ownProps,...mergeProps})}))),"withSelect")},"./packages/icons/build-module/library/check.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})})},"./packages/icons/build-module/library/chevron-down.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"})})},"./packages/icons/build-module/library/edit.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>edit});var svg=__webpack_require__("./packages/primitives/build-module/svg/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const edit=(0,jsx_runtime.jsx)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,jsx_runtime.jsx)(svg.y$,{d:"m19 7-3-3-8.5 8.5-1 4 4-1L19 7Zm-7 11.5H5V20h7v-1.5Z"})})},"./packages/icons/build-module/library/keyboard-return.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"m6.734 16.106 2.176-2.38-1.093-1.028-3.846 4.158 3.846 4.158 1.093-1.028-2.176-2.38h2.811c1.125 0 2.25.03 3.374 0 1.428-.001 3.362-.25 4.963-1.277 1.66-1.065 2.868-2.906 2.868-5.859 0-2.479-1.327-4.896-3.65-5.93-1.82-.813-3.044-.8-4.806-.788l-.567.002v1.5c.184 0 .368 0 .553-.002 1.82-.007 2.704-.014 4.21.657 1.854.827 2.76 2.657 2.76 4.561 0 2.472-.973 3.824-2.178 4.596-1.258.807-2.864 1.04-4.163 1.04h-.02c-1.115.03-2.229 0-3.344 0H6.734Z"})})},"./packages/url/build-module/filter-url-for-display.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function filterURLForDisplay(url,maxLength=null){if(!url)return"";let filteredURL=url.replace(/^[a-z\-.\+]+[0-9]*:(\/\/)?/i,"").replace(/^www\./i,"");filteredURL.match(/^[^\/]+\/$/)&&(filteredURL=filteredURL.replace("/",""));if(!maxLength||filteredURL.length<=maxLength||!filteredURL.match(/\/([^\/?]+)\.(?:[\w]+)(?=\?|$)/))return filteredURL;filteredURL=filteredURL.split("?")[0];const urlPieces=filteredURL.split("/"),file=urlPieces[urlPieces.length-1];if(file.length<=maxLength)return"â€¦"+filteredURL.slice(-maxLength);const index=file.lastIndexOf("."),[fileName,extension]=[file.slice(0,index),file.slice(index+1)],truncatedFile=fileName.slice(-3)+"."+extension;return file.slice(0,maxLength-truncatedFile.length-1)+"â€¦"+truncatedFile}__webpack_require__.d(__webpack_exports__,{w:()=>filterURLForDisplay})},"./packages/url/build-module/is-url.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function isURL(url){try{return new URL(url),!0}catch{return!1}}__webpack_require__.d(__webpack_exports__,{P:()=>isURL})},"./packages/url/build-module/safe-decode-uri.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function safeDecodeURI(uri){try{return decodeURI(uri)}catch(uriError){return uri}}__webpack_require__.d(__webpack_exports__,{x:()=>safeDecodeURI})},"./node_modules/use-memo-one/dist/use-memo-one.esm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Pr:()=>useMemoOne});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function useMemoOne(getResult,inputs){var initial=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)((function(){return{inputs,result:getResult()}}))[0],committed=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(initial),cache=Boolean(inputs&&committed.current.inputs&&function areInputsEqual(newInputs,lastInputs){if(newInputs.length!==lastInputs.length)return!1;for(var i=0;i<newInputs.length;i++)if(newInputs[i]!==lastInputs[i])return!1;return!0}(inputs,committed.current.inputs))?committed.current:{inputs,result:getResult()};return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){committed.current=cache}),[cache]),cache.result}},"./packages/components/node_modules/@ariakit/react-core/esm/__chunks/67ZQCY2E.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{G:()=>CompositeRow});var _53KINMNA_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/components/node_modules/@ariakit/react-core/esm/__chunks/53KINMNA.js"),_YIF72NQG_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/components/node_modules/@ariakit/react-core/esm/__chunks/YIF72NQG.js"),_OPTPHWV7_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/components/node_modules/@ariakit/react-core/esm/__chunks/OPTPHWV7.js"),_4R3V3JGP_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/components/node_modules/@ariakit/react-core/esm/__chunks/4R3V3JGP.js"),_ariakit_core_utils_misc__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/components/node_modules/@ariakit/core/esm/__chunks/22HHDS5F.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js"),useCompositeRow=(0,_YIF72NQG_js__WEBPACK_IMPORTED_MODULE_2__.Bi)((function useCompositeRow2(_a){var _b=_a,{store,"aria-setsize":ariaSetSize,"aria-posinset":ariaPosInSet}=_b,props=(0,_4R3V3JGP_js__WEBPACK_IMPORTED_MODULE_3__.S0)(_b,["store","aria-setsize","aria-posinset"]);const context=(0,_53KINMNA_js__WEBPACK_IMPORTED_MODULE_4__.$)();store=store||context,(0,_ariakit_core_utils_misc__WEBPACK_IMPORTED_MODULE_5__.kG)(store,!1);const id=(0,_OPTPHWV7_js__WEBPACK_IMPORTED_MODULE_6__.Me)(props.id),baseElement=store.useState((state=>state.baseElement||void 0)),providerValue=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>({id,baseElement,ariaSetSize,ariaPosInSet})),[id,baseElement,ariaSetSize,ariaPosInSet]);return props=(0,_OPTPHWV7_js__WEBPACK_IMPORTED_MODULE_6__.OJ)(props,(element=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_53KINMNA_js__WEBPACK_IMPORTED_MODULE_4__.Ft.Provider,{value:providerValue,children:element})),[providerValue]),props=(0,_4R3V3JGP_js__WEBPACK_IMPORTED_MODULE_3__.ih)({id},props),(0,_ariakit_core_utils_misc__WEBPACK_IMPORTED_MODULE_5__.Nq)(props)})),CompositeRow=(0,_YIF72NQG_js__WEBPACK_IMPORTED_MODULE_2__.Gp)((function CompositeRow2(props){const htmlProps=useCompositeRow(props);return(0,_YIF72NQG_js__WEBPACK_IMPORTED_MODULE_2__.az)("div",htmlProps)}))},"./packages/components/node_modules/@ariakit/react-core/esm/__chunks/FPZBL2HG.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{z:()=>CompositeGroupLabel});var _7HVFURXT=__webpack_require__("./packages/components/node_modules/@ariakit/react-core/esm/__chunks/7HVFURXT.js"),YIF72NQG=__webpack_require__("./packages/components/node_modules/@ariakit/react-core/esm/__chunks/YIF72NQG.js"),OPTPHWV7=__webpack_require__("./packages/components/node_modules/@ariakit/react-core/esm/__chunks/OPTPHWV7.js"),_4R3V3JGP=__webpack_require__("./packages/components/node_modules/@ariakit/react-core/esm/__chunks/4R3V3JGP.js"),_22HHDS5F=__webpack_require__("./packages/components/node_modules/@ariakit/core/esm/__chunks/22HHDS5F.js"),react=__webpack_require__("./node_modules/react/index.js"),useGroupLabel=(0,YIF72NQG.Bi)((function useGroupLabel2(props){const setLabelId=(0,react.useContext)(_7HVFURXT.y),id=(0,OPTPHWV7.Me)(props.id);return(0,OPTPHWV7.Gw)((()=>(null==setLabelId||setLabelId(id),()=>null==setLabelId?void 0:setLabelId(void 0))),[setLabelId,id]),props=(0,_4R3V3JGP.ih)({id,"aria-hidden":!0},props),(0,_22HHDS5F.Nq)(props)})),useCompositeGroupLabel=((0,YIF72NQG.Gp)((function GroupLabel2(props){const htmlProps=useGroupLabel(props);return(0,YIF72NQG.az)("div",htmlProps)})),(0,YIF72NQG.Bi)((function useCompositeGroupLabel2(_a){var _b=_a,{store}=_b,props=(0,_4R3V3JGP.S0)(_b,["store"]);return props=useGroupLabel(props)}))),CompositeGroupLabel=(0,YIF72NQG.Gp)((function CompositeGroupLabel2(props){const htmlProps=useCompositeGroupLabel(props);return(0,YIF72NQG.az)("div",htmlProps)}))},"./packages/components/node_modules/@floating-ui/react-dom/dist/floating-ui.react-dom.esm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{YF:()=>useFloating,x7:()=>arrow});var _floating_ui_dom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_dom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-dom/index.js");const arrow=options=>({name:"arrow",options,fn(state){const{element,padding}="function"==typeof options?options(state):options;return element&&function isRef(value){return{}.hasOwnProperty.call(value,"current")}(element)?null!=element.current?(0,_floating_ui_dom__WEBPACK_IMPORTED_MODULE_2__.x7)({element:element.current,padding}).fn(state):{}:element?(0,_floating_ui_dom__WEBPACK_IMPORTED_MODULE_2__.x7)({element,padding}).fn(state):{}}});var index="undefined"!=typeof document?react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect:react__WEBPACK_IMPORTED_MODULE_0__.useEffect;function deepEqual(a,b){if(a===b)return!0;if(typeof a!=typeof b)return!1;if("function"==typeof a&&a.toString()===b.toString())return!0;let length,i,keys;if(a&&b&&"object"==typeof a){if(Array.isArray(a)){if(length=a.length,length!=b.length)return!1;for(i=length;0!=i--;)if(!deepEqual(a[i],b[i]))return!1;return!0}if(keys=Object.keys(a),length=keys.length,length!==Object.keys(b).length)return!1;for(i=length;0!=i--;)if(!{}.hasOwnProperty.call(b,keys[i]))return!1;for(i=length;0!=i--;){const key=keys[i];if(("_owner"!==key||!a.$$typeof)&&!deepEqual(a[key],b[key]))return!1}return!0}return a!=a&&b!=b}function getDPR(element){if("undefined"==typeof window)return 1;return(element.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(element,value){const dpr=getDPR(element);return Math.round(value*dpr)/dpr}function useLatestRef(value){const ref=react__WEBPACK_IMPORTED_MODULE_0__.useRef(value);return index((()=>{ref.current=value})),ref}function useFloating(options){void 0===options&&(options={});const{placement="bottom",strategy="absolute",middleware=[],platform,elements:{reference:externalReference,floating:externalFloating}={},transform=!0,whileElementsMounted,open}=options,[data,setData]=react__WEBPACK_IMPORTED_MODULE_0__.useState({x:0,y:0,strategy,placement,middlewareData:{},isPositioned:!1}),[latestMiddleware,setLatestMiddleware]=react__WEBPACK_IMPORTED_MODULE_0__.useState(middleware);deepEqual(latestMiddleware,middleware)||setLatestMiddleware(middleware);const[_reference,_setReference]=react__WEBPACK_IMPORTED_MODULE_0__.useState(null),[_floating,_setFloating]=react__WEBPACK_IMPORTED_MODULE_0__.useState(null),setReference=react__WEBPACK_IMPORTED_MODULE_0__.useCallback((node=>{node!=referenceRef.current&&(referenceRef.current=node,_setReference(node))}),[_setReference]),setFloating=react__WEBPACK_IMPORTED_MODULE_0__.useCallback((node=>{node!==floatingRef.current&&(floatingRef.current=node,_setFloating(node))}),[_setFloating]),referenceEl=externalReference||_reference,floatingEl=externalFloating||_floating,referenceRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(null),floatingRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(null),dataRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(data),whileElementsMountedRef=useLatestRef(whileElementsMounted),platformRef=useLatestRef(platform),update=react__WEBPACK_IMPORTED_MODULE_0__.useCallback((()=>{if(!referenceRef.current||!floatingRef.current)return;const config={placement,strategy,middleware:latestMiddleware};platformRef.current&&(config.platform=platformRef.current),(0,_floating_ui_dom__WEBPACK_IMPORTED_MODULE_2__.oo)(referenceRef.current,floatingRef.current,config).then((data=>{const fullData={...data,isPositioned:!0};isMountedRef.current&&!deepEqual(dataRef.current,fullData)&&(dataRef.current=fullData,react_dom__WEBPACK_IMPORTED_MODULE_1__.flushSync((()=>{setData(fullData)})))}))}),[latestMiddleware,placement,strategy,platformRef]);index((()=>{!1===open&&dataRef.current.isPositioned&&(dataRef.current.isPositioned=!1,setData((data=>({...data,isPositioned:!1}))))}),[open]);const isMountedRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(!1);index((()=>(isMountedRef.current=!0,()=>{isMountedRef.current=!1})),[]),index((()=>{if(referenceEl&&(referenceRef.current=referenceEl),floatingEl&&(floatingRef.current=floatingEl),referenceEl&&floatingEl){if(whileElementsMountedRef.current)return whileElementsMountedRef.current(referenceEl,floatingEl,update);update()}}),[referenceEl,floatingEl,update,whileElementsMountedRef]);const refs=react__WEBPACK_IMPORTED_MODULE_0__.useMemo((()=>({reference:referenceRef,floating:floatingRef,setReference,setFloating})),[setReference,setFloating]),elements=react__WEBPACK_IMPORTED_MODULE_0__.useMemo((()=>({reference:referenceEl,floating:floatingEl})),[referenceEl,floatingEl]),floatingStyles=react__WEBPACK_IMPORTED_MODULE_0__.useMemo((()=>{const initialStyles={position:strategy,left:0,top:0};if(!elements.floating)return initialStyles;const x=roundByDPR(elements.floating,data.x),y=roundByDPR(elements.floating,data.y);return transform?{...initialStyles,transform:"translate("+x+"px, "+y+"px)",...getDPR(elements.floating)>=1.5&&{willChange:"transform"}}:{position:strategy,left:x,top:y}}),[strategy,transform,elements.floating,data.x,data.y]);return react__WEBPACK_IMPORTED_MODULE_0__.useMemo((()=>({...data,update,refs,elements,floatingStyles})),[data,update,refs,elements,floatingStyles])}},"./packages/block-editor/src/components/url-popover/stories/index.story.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{_default:()=>_default,default:()=>index_story});var build_module_button=__webpack_require__("./packages/components/build-module/button/index.js"),toggle_control=__webpack_require__("./packages/components/build-module/toggle-control/index.js"),react=__webpack_require__("./node_modules/react/index.js"),build_module=__webpack_require__("./packages/i18n/build-module/index.js"),keyboard_return=__webpack_require__("./packages/icons/build-module/library/keyboard-return.js"),private_apis=__webpack_require__("./packages/components/build-module/private-apis.js"),popover=__webpack_require__("./packages/components/build-module/popover/index.js"),chevron_down=__webpack_require__("./packages/icons/build-module/library/chevron-down.js"),deprecated_build_module=__webpack_require__("./packages/deprecated/build-module/index.js"),clsx=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),edit=__webpack_require__("./packages/icons/build-module/library/edit.js"),external_link=__webpack_require__("./packages/components/build-module/external-link/index.js"),filter_url_for_display=__webpack_require__("./packages/url/build-module/filter-url-for-display.js"),safe_decode_uri=__webpack_require__("./packages/url/build-module/safe-decode-uri.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function LinkViewerURL({url,urlLabel,className}){const linkClassName=(0,clsx.Z)(className,"block-editor-url-popover__link-viewer-url");return url?(0,jsx_runtime.jsx)(external_link.Z,{className:linkClassName,href:url,children:urlLabel||(0,filter_url_for_display.w)((0,safe_decode_uri.x)(url))}):(0,jsx_runtime.jsx)("span",{className:linkClassName})}function LinkViewer({className,linkClassName,onEditLinkClick,url,urlLabel,...props}){return(0,jsx_runtime.jsxs)("div",{className:(0,clsx.Z)("block-editor-url-popover__link-viewer",className),...props,children:[(0,jsx_runtime.jsx)(LinkViewerURL,{url,urlLabel,className:linkClassName}),onEditLinkClick&&(0,jsx_runtime.jsx)(build_module_button.ZP,{icon:edit.Z,label:(0,build_module.__)("Edit"),onClick:onEditLinkClick,size:"compact"})]})}LinkViewerURL.displayName="LinkViewerURL",LinkViewerURL.__docgenInfo={description:"",methods:[],displayName:"LinkViewerURL"},LinkViewer.displayName="LinkViewer",LinkViewer.__docgenInfo={description:"",methods:[],displayName:"LinkViewer"};var keycodes_build_module=__webpack_require__("./packages/keycodes/build-module/index.js"),base_control=__webpack_require__("./packages/components/build-module/base-control/index.js"),spinner=__webpack_require__("./packages/components/build-module/spinner/index.js"),with_spoken_messages=__webpack_require__("./packages/components/build-module/higher-order/with-spoken-messages/index.js"),debounce=__webpack_require__("./packages/compose/build-module/utils/debounce/index.js"),compose=__webpack_require__("./packages/compose/build-module/higher-order/compose.js"),with_safe_timeout=__webpack_require__("./packages/compose/build-module/higher-order/with-safe-timeout/index.js"),with_instance_id=__webpack_require__("./packages/compose/build-module/higher-order/with-instance-id/index.js"),with_select=__webpack_require__("./packages/data/build-module/components/with-select/index.js"),is_url=__webpack_require__("./packages/url/build-module/is-url.js"),store=__webpack_require__("./packages/block-editor/src/store/index.js");function isFunction(maybeFunc){return"function"==typeof maybeFunc}class URLInput extends react.Component{constructor(props){super(props),this.onChange=this.onChange.bind(this),this.onFocus=this.onFocus.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.selectLink=this.selectLink.bind(this),this.handleOnClick=this.handleOnClick.bind(this),this.bindSuggestionNode=this.bindSuggestionNode.bind(this),this.autocompleteRef=props.autocompleteRef||(0,react.createRef)(),this.inputRef=(0,react.createRef)(),this.updateSuggestions=(0,debounce.D)(this.updateSuggestions.bind(this),200),this.suggestionNodes=[],this.suggestionsRequest=null,this.state={suggestions:[],showSuggestions:!1,suggestionsValue:null,selectedSuggestion:null,suggestionsListboxId:"",suggestionOptionIdPrefix:""}}componentDidUpdate(prevProps){const{showSuggestions,selectedSuggestion}=this.state,{value,__experimentalShowInitialSuggestions=!1}=this.props;showSuggestions&&null!==selectedSuggestion&&this.suggestionNodes[selectedSuggestion]&&this.suggestionNodes[selectedSuggestion].scrollIntoView({behavior:"instant",block:"nearest",inline:"nearest"}),prevProps.value===value||this.props.disableSuggestions||(value?.length?this.updateSuggestions(value):__experimentalShowInitialSuggestions&&this.updateSuggestions())}componentDidMount(){this.shouldShowInitialSuggestions()&&this.updateSuggestions()}componentWillUnmount(){this.suggestionsRequest?.cancel?.(),this.suggestionsRequest=null}bindSuggestionNode(index){return ref=>{this.suggestionNodes[index]=ref}}shouldShowInitialSuggestions(){const{__experimentalShowInitialSuggestions=!1,value}=this.props;return __experimentalShowInitialSuggestions&&!(value&&value.length)}updateSuggestions(value=""){const{__experimentalFetchLinkSuggestions:fetchLinkSuggestions,__experimentalHandleURLSuggestions:handleURLSuggestions}=this.props;if(!fetchLinkSuggestions)return;const isInitialSuggestions=!value?.length;if(value=value.trim(),!isInitialSuggestions&&(value.length<2||!handleURLSuggestions&&(0,is_url.P)(value)))return this.suggestionsRequest?.cancel?.(),this.suggestionsRequest=null,void this.setState({suggestions:[],showSuggestions:!1,suggestionsValue:value,selectedSuggestion:null,loading:!1});this.setState({selectedSuggestion:null,loading:!0});const request=fetchLinkSuggestions(value,{isInitialSuggestions});request.then((suggestions=>{this.suggestionsRequest===request&&(this.setState({suggestions,suggestionsValue:value,loading:!1,showSuggestions:!!suggestions.length}),suggestions.length?this.props.debouncedSpeak((0,build_module.gB)((0,build_module._n)("%d result found, use up and down arrow keys to navigate.","%d results found, use up and down arrow keys to navigate.",suggestions.length),suggestions.length),"assertive"):this.props.debouncedSpeak((0,build_module.__)("No results."),"assertive"))})).catch((()=>{this.suggestionsRequest===request&&this.setState({loading:!1})})).finally((()=>{this.suggestionsRequest===request&&(this.suggestionsRequest=null)})),this.suggestionsRequest=request}onChange(event){this.props.onChange(event.target.value)}onFocus(){const{suggestions}=this.state,{disableSuggestions,value}=this.props;!value||disableSuggestions||suggestions&&suggestions.length||null!==this.suggestionsRequest||this.updateSuggestions(value)}onKeyDown(event){this.props.onKeyDown?.(event);const{showSuggestions,selectedSuggestion,suggestions,loading}=this.state;if(!showSuggestions||!suggestions.length||loading){switch(event.keyCode){case keycodes_build_module.UP:0!==event.target.selectionStart&&(event.preventDefault(),event.target.setSelectionRange(0,0));break;case keycodes_build_module.WV:this.props.value.length!==event.target.selectionStart&&(event.preventDefault(),event.target.setSelectionRange(this.props.value.length,this.props.value.length));break;case keycodes_build_module.K5:this.props.onSubmit&&(event.preventDefault(),this.props.onSubmit(null,event))}return}const suggestion=this.state.suggestions[this.state.selectedSuggestion];switch(event.keyCode){case keycodes_build_module.UP:{event.preventDefault();const previousIndex=selectedSuggestion?selectedSuggestion-1:suggestions.length-1;this.setState({selectedSuggestion:previousIndex});break}case keycodes_build_module.WV:{event.preventDefault();const nextIndex=null===selectedSuggestion||selectedSuggestion===suggestions.length-1?0:selectedSuggestion+1;this.setState({selectedSuggestion:nextIndex});break}case keycodes_build_module.Mf:null!==this.state.selectedSuggestion&&(this.selectLink(suggestion),this.props.speak((0,build_module.__)("Link selected.")));break;case keycodes_build_module.K5:event.preventDefault(),null!==this.state.selectedSuggestion?(this.selectLink(suggestion),this.props.onSubmit&&this.props.onSubmit(suggestion,event)):this.props.onSubmit&&this.props.onSubmit(null,event)}}selectLink(suggestion){this.props.onChange(suggestion.url,suggestion),this.setState({selectedSuggestion:null,showSuggestions:!1})}handleOnClick(suggestion){this.selectLink(suggestion),this.inputRef.current.focus()}static getDerivedStateFromProps({value,instanceId,disableSuggestions,__experimentalShowInitialSuggestions=!1},{showSuggestions}){let shouldShowSuggestions=showSuggestions;const hasValue=value&&value.length;return __experimentalShowInitialSuggestions||hasValue||(shouldShowSuggestions=!1),!0===disableSuggestions&&(shouldShowSuggestions=!1),{showSuggestions:shouldShowSuggestions,suggestionsListboxId:`block-editor-url-input-suggestions-${instanceId}`,suggestionOptionIdPrefix:`block-editor-url-input-suggestion-${instanceId}`}}render(){return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[this.renderControl(),this.renderSuggestions()]})}renderControl(){const{label=null,className,isFullWidth,instanceId,placeholder=(0,build_module.__)("Paste URL or type to search"),__experimentalRenderControl:renderControl,value="",hideLabelFromVision=!1}=this.props,{loading,showSuggestions,selectedSuggestion,suggestionsListboxId,suggestionOptionIdPrefix}=this.state,inputId=`url-input-control-${instanceId}`,controlProps={id:inputId,label,className:(0,clsx.Z)("block-editor-url-input",className,{"is-full-width":isFullWidth}),hideLabelFromVision},inputProps={id:inputId,value,required:!0,className:"block-editor-url-input__input",type:"text",onChange:this.onChange,onFocus:this.onFocus,placeholder,onKeyDown:this.onKeyDown,role:"combobox","aria-label":label?void 0:(0,build_module.__)("URL"),"aria-expanded":showSuggestions,"aria-autocomplete":"list","aria-owns":suggestionsListboxId,"aria-activedescendant":null!==selectedSuggestion?`${suggestionOptionIdPrefix}-${selectedSuggestion}`:void 0,ref:this.inputRef};return renderControl?renderControl(controlProps,inputProps,loading):(0,jsx_runtime.jsxs)(base_control.ZP,{__nextHasNoMarginBottom:!0,...controlProps,children:[(0,jsx_runtime.jsx)("input",{...inputProps}),loading&&(0,jsx_runtime.jsx)(spinner.ZP,{})]})}renderSuggestions(){const{className,__experimentalRenderSuggestions:renderSuggestions}=this.props,{showSuggestions,suggestions,suggestionsValue,selectedSuggestion,suggestionsListboxId,suggestionOptionIdPrefix,loading}=this.state;if(!showSuggestions||0===suggestions.length)return null;const suggestionsListProps={id:suggestionsListboxId,ref:this.autocompleteRef,role:"listbox"},buildSuggestionItemProps=(suggestion,index)=>({role:"option",tabIndex:"-1",id:`${suggestionOptionIdPrefix}-${index}`,ref:this.bindSuggestionNode(index),"aria-selected":index===selectedSuggestion||void 0});return isFunction(renderSuggestions)?renderSuggestions({suggestions,selectedSuggestion,suggestionsListProps,buildSuggestionItemProps,isLoading:loading,handleSuggestionClick:this.handleOnClick,isInitialSuggestions:!suggestionsValue?.length,currentInputValue:suggestionsValue}):(0,jsx_runtime.jsx)(popover.ZP,{placement:"bottom",focusOnMount:!1,children:(0,jsx_runtime.jsx)("div",{...suggestionsListProps,className:(0,clsx.Z)("block-editor-url-input__suggestions",`${className}__suggestions`),children:suggestions.map(((suggestion,index)=>(0,react.createElement)(build_module_button.ZP,{...buildSuggestionItemProps(0,index),key:suggestion.id,className:(0,clsx.Z)("block-editor-url-input__suggestion",{"is-selected":index===selectedSuggestion}),onClick:()=>this.handleOnClick(suggestion)},suggestion.title)))})})}}URLInput.displayName="URLInput";const url_input=(0,compose.Z)(with_safe_timeout.Z,with_spoken_messages.Z,with_instance_id.Z,(0,with_select.Z)(((select,props)=>{if(isFunction(props.__experimentalFetchLinkSuggestions))return;const{getSettings}=select(store.h);return{__experimentalFetchLinkSuggestions:getSettings().__experimentalFetchLinkSuggestions}})))(URLInput);function LinkEditor({autocompleteRef,className,onChangeInputValue,value,...props}){return(0,jsx_runtime.jsxs)("form",{className:(0,clsx.Z)("block-editor-url-popover__link-editor",className),...props,children:[(0,jsx_runtime.jsx)(url_input,{value,onChange:onChangeInputValue,autocompleteRef}),(0,jsx_runtime.jsx)(build_module_button.ZP,{icon:keyboard_return.Z,label:(0,build_module.__)("Apply"),type:"submit",size:"compact"})]})}URLInput.__docgenInfo={description:"",methods:[{name:"bindSuggestionNode",docblock:null,modifiers:[],params:[{name:"index",optional:!1,type:null}],returns:null},{name:"shouldShowInitialSuggestions",docblock:null,modifiers:[],params:[],returns:null},{name:"updateSuggestions",docblock:null,modifiers:[],params:[{name:"value",optional:!0,type:null}],returns:null},{name:"onChange",docblock:null,modifiers:[],params:[{name:"event",optional:!1,type:null}],returns:null},{name:"onFocus",docblock:null,modifiers:[],params:[],returns:null},{name:"onKeyDown",docblock:null,modifiers:[],params:[{name:"event",optional:!1,type:null}],returns:null},{name:"selectLink",docblock:null,modifiers:[],params:[{name:"suggestion",optional:!1,type:null}],returns:null},{name:"handleOnClick",docblock:null,modifiers:[],params:[{name:"suggestion",optional:!1,type:null}],returns:null},{name:"renderControl",docblock:null,modifiers:[],params:[],returns:null},{name:"renderSuggestions",docblock:null,modifiers:[],params:[],returns:null}],displayName:"URLInput"},LinkEditor.displayName="LinkEditor",LinkEditor.__docgenInfo={description:"",methods:[],displayName:"LinkEditor"};var lock_unlock=__webpack_require__("./packages/block-editor/src/lock-unlock.js");const{__experimentalPopoverLegacyPositionToPlacement}=(0,lock_unlock.U)(private_apis.Y),URLPopover=(0,react.forwardRef)((({additionalControls,children,renderSettings,placement,focusOnMount="firstElement",position,...popoverProps},ref)=>{let computedPlacement;void 0!==position&&(0,deprecated_build_module.Z)("`position` prop in wp.blockEditor.URLPopover",{since:"6.2",alternative:"`placement` prop"}),void 0!==placement?computedPlacement=placement:void 0!==position&&(computedPlacement=__experimentalPopoverLegacyPositionToPlacement(position)),computedPlacement=computedPlacement||"bottom";const[isSettingsExpanded,setIsSettingsExpanded]=(0,react.useState)(!1),showSettings=!!renderSettings&&isSettingsExpanded;return(0,jsx_runtime.jsxs)(popover.ZP,{ref,role:"dialog","aria-modal":"true","aria-label":(0,build_module.__)("Edit URL"),className:"block-editor-url-popover",focusOnMount,placement:computedPlacement,shift:!0,variant:"toolbar",...popoverProps,children:[(0,jsx_runtime.jsx)("div",{className:"block-editor-url-popover__input-container",children:(0,jsx_runtime.jsxs)("div",{className:"block-editor-url-popover__row",children:[children,!!renderSettings&&(0,jsx_runtime.jsx)(build_module_button.ZP,{className:"block-editor-url-popover__settings-toggle",icon:chevron_down.Z,label:(0,build_module.__)("Link settings"),onClick:()=>{setIsSettingsExpanded(!isSettingsExpanded)},"aria-expanded":isSettingsExpanded,size:"compact"})]})}),showSettings&&(0,jsx_runtime.jsx)("div",{className:"block-editor-url-popover__settings",children:renderSettings()}),additionalControls&&!showSettings&&(0,jsx_runtime.jsx)("div",{className:"block-editor-url-popover__additional-controls",children:additionalControls})]})}));URLPopover.LinkEditor=LinkEditor,URLPopover.LinkViewer=LinkViewer;const url_popover=URLPopover;URLPopover.__docgenInfo={description:"",methods:[],displayName:"URLPopover",props:{focusOnMount:{defaultValue:{value:"'firstElement'",computed:!1},required:!1}}};const index_story={title:"BlockEditor/URLPopover",parameters:{sourceLink:"packages/block-editor/src/components/url-popover",badges:[]}},TestURLPopover=()=>{const[isVisible,setVisiblility]=(0,react.useState)(!1),[url,setUrl]=(0,react.useState)(""),close=()=>setVisiblility(!1),setTarget=()=>{};return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(build_module_button.ZP,{onClick:()=>setVisiblility(!0),children:"Edit URL"}),isVisible&&(0,jsx_runtime.jsx)(url_popover,{onClose:close,renderSettings:()=>(0,jsx_runtime.jsx)(toggle_control.Z,{__nextHasNoMarginBottom:!0,label:(0,build_module.__)("Open in new tab"),onChange:setTarget}),children:(0,jsx_runtime.jsxs)("form",{onSubmit:close,children:[(0,jsx_runtime.jsx)("input",{type:"url",value:url,onChange:setUrl}),(0,jsx_runtime.jsx)(build_module_button.ZP,{icon:keyboard_return.Z,label:(0,build_module.__)("Apply"),type:"submit"})]})})]})},_default=()=>(0,jsx_runtime.jsx)(TestURLPopover,{});_default.displayName="_default",_default.parameters={..._default.parameters,docs:{..._default.parameters?.docs,source:{originalSource:"() => {\n  return <TestURLPopover />;\n}",..._default.parameters?.docs?.source}}}}}]);